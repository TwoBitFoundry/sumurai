#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Run frontend checks
cd frontend

echo "ğŸ” Running ESLint on staged files..."
npx lint-staged

# Run backend checks
cd ../backend

echo "ğŸ” Running Clippy linting on backend..."
cargo clippy --all-targets --all-features -- -D warnings

if [ $? -ne 0 ]; then
    echo "âŒ Backend linting failed!"
    exit 1
fi

echo "âœ… Pre-commit checks passed!"
